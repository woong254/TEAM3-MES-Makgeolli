import{p as je,r as o,B as Ue,c as j,d as Z,l as r,i as b,b as e,w as p,n,v as U,C as We,D as Q,u as v,o as S,q as re,k as Xe,h as Ze,j as O,y as ie,J as W,t as ue,F as Ce,g as Se}from"./index-CJ3q1JqJ.js";import{_ as et}from"./common-BC0Yipj8.js";import{_ as de}from"./ComponentCardButton.vue_vue_type_script_setup_true_lang-BzeZFBPb.js";import{_ as tt}from"./AdminLayout-C24uwuk1.js";import{s as ce,a as g,b as lt}from"./index-BK6avQhT.js";/* empty css                   */import{_ as at}from"./Modal.vue_vue_type_script_setup_true_lang-By9v9QUL.js";import{a as D}from"./index-ngrFHoWO.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const st={key:0},nt={class:"modal-container flex gap-2 mb-2"},ot={class:"w-1/3"},rt={class:"w-1/3"},it={class:"relative z-20 bg-transparent"},ut={class:"modal-container"},dt="dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-950 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",Ne="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",ct="dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-950 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",pt=je({__name:"InspTargetSelectModal",props:{visible:{type:Boolean}},emits:["close","checked"],setup(pe,{emit:ee}){const H=pe,M=ee,F=()=>{M("close")},x=o([]),h=o([]),w=o(""),f=o("");Ue(()=>H.visible,async d=>{d&&(w.value="",f.value="",N.value=[],await z(),h.value=x.value)});const z=async()=>{try{const{data:d}=await D.get("/api/inspTarget");x.value=d}catch(d){console.error("데이터 조회 오류:",d),x.value=[]}},V=async()=>{try{const{data:d}=await D.get("/api/inspTargetSearch",{params:{name:w.value,type:f.value}});h.value=d}catch(d){console.error("검색 오류:",d),h.value=[]}},q=()=>{w.value="",f.value="",h.value=[...x.value]},N=o([]),k=()=>{M("checked",N.value),M("close")};return(d,i)=>H.visible?(S(),j("div",st,[r(at,{title:"검사대상",fullScreenBackdrop:!0,"title-align":"left","header-align":"right",width:"900px",onClose:F},{"modal-header":b(()=>[e("div",{class:"flex justify-end"},[e("button",{type:"button",class:"btn-common-modal btn-white",onClick:q}," 초기화 "),e("button",{type:"button",class:"btn-common-modal btn-color",onClick:V},"조회")])]),"modal-body":b(()=>[e("div",nt,[e("div",ot,[e("label",{class:n(Ne),for:"insp-name"}," 자재/제품명 "),p(e("input",{type:"text",id:"insp-name",class:n(dt),"onUpdate:modelValue":i[0]||(i[0]=_=>w.value=_),onKeyup:We(V,["enter"])},null,544),[[U,w.value]])]),e("div",rt,[e("label",{class:n(Ne),for:"insp-type"}," 품목구분 "),e("div",it,[p(e("select",{id:"insp-type",class:n(ct),"onUpdate:modelValue":i[1]||(i[1]=_=>f.value=_)},[...i[3]||(i[3]=[e("option",{value:"a1"},"주자재",-1),e("option",{value:"a2"},"부자재",-1),e("option",{value:"a3"},"재공품",-1),e("option",{value:"a4"},"반제품",-1),e("option",{value:"a5"},"완제품",-1)])],512),[[Q,f.value]]),i[4]||(i[4]=e("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[e("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])])]),e("div",ut,[r(v(ce),{value:h.value,selection:N.value,"onUpdate:selection":i[2]||(i[2]=_=>N.value=_),dataKey:"t_id",showGridlines:"",scrollable:"",size:"small",class:"text-sm z-[100001]",paginator:"",rows:8},{empty:b(()=>[...i[5]||(i[5]=[e("div",{class:"text-center"},"검색 결과가 없습니다.",-1)])]),default:b(()=>[r(v(g),{header:"",pt:{columnHeaderContent:"justify-center"},selectionMode:"multiple",showSelectAll:!1,style:{width:"10px"}}),r(v(g),{field:"t_id",header:"자재/제품ID",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_name",header:"자재/제품명",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_category",header:"구분",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_type_name",header:"품목구분",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_spec",header:"규격",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_unit_name",header:"단위",pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["value","selection"])]),e("div",{class:"flex justify-center mt-3"},[e("button",{class:"btn-common btn-white",onClick:k},"확인")])]),_:1})])):Z("",!0)}}),vt=Me(pt,[["__scopeId","data-v-b8166ac5"]]),mt={class:"flex gap-4"},ft={class:"w-1/4"},gt={class:"w-1/4"},yt={class:"w-1/4"},bt={class:"relative z-20 bg-transparent"},xt={class:"w-1/4"},ht={class:"flex gap-2 mt-2 width-full",style:{height:"550px"}},wt={class:"flex justify-end"},kt=["disabled"],_t={action:"",id:"insp-form",class:"overflow-y-auto",style:{height:"420px"}},Ct={class:"flex mb-2 gap-2"},St={class:"justify-center w-1/3 ml-[10px]"},Nt={class:"flex items-center mb-2 w-full"},jt={class:"flex gap-10"},Ut={class:"flex mb-2"},Mt={class:"flex mb-4"},Vt={class:"w-full"},$t={key:0,class:"mt-2 text-sm"},It=["href","download"],Dt={class:"flex justify-center"},Ht={key:0},zt={class:"flex items-center gap-4 mb-3"},qt={class:"flex gap-2 w-full"},Bt={class:"relative z-20 bg-transparent w-1/2"},Ft={class:"flex items-center mb-3 gap-4"},Tt={class:"flex gap-2 w-full"},Lt={class:"relative z-20 bg-transparent w-1/2"},Pt={class:"flex items-center mb-4 gap-4"},Rt={key:1},Kt={class:"rounded-lg mb-2",style:{border:"1px solid #dedede",padding:"15px"}},Yt={class:"flex items-center mb-2"},Ot={class:"mb-3"},Qt=["onUpdate:modelValue"],Gt={class:"flex gap-2"},Jt={class:"relative z-20 bg-transparent w-1/2"},At={class:"rounded-lg mb-2",style:{border:"1px solid #dedede",padding:"15px"}},Et=["onUpdate:modelValue"],Wt=["onClick"],I="dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-950 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",X="dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-950 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",u="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",Xt="dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-950 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 overflow-y-auto",Zt="focus:border-ring-brand-300 h-11 w-full overflow-hidden rounded-lg border border-gray-300 bg-transparent text-sm text-gray-500 shadow-theme-xs transition-colors file:mr-5 file:border-collapse file:cursor-pointer file:rounded-l-lg file:border-0 file:border-r file:border-solid file:border-gray-200 file:bg-gray-50 file:py-3 file:pl-3.5 file:pr-3 file:text-sm file:text-gray-700 placeholder:text-gray-400 hover:file:bg-gray-100 focus:outline-hidden focus:file:ring-brand-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-400 dark:text-white/90 dark:file:border-gray-800 dark:file:bg-white/[0.03] dark:file:text-gray-400 dark:placeholder:text-gray-400",el=je({__name:"QualityMaster",setup(pe){const ee=o("품질검사 기준관리"),H=o(""),M=o(!1),F=o(""),x=o([]),h=o(""),w=o(""),f=o(""),z=o("r1"),V=o("r3"),q=o(""),N=o("r1"),k=o("range"),d=o(5),i=o([{id:1,text:""}]),_=o([]),T=o([]),C=o(null),G=o(""),J=o(""),A=o(""),L=o(!1),R=o(!1),Ve=o(""),$e=o(""),P=o(""),ve=o(""),E=o(""),te=o(""),le=o(null),me=o(0),K=o({10:"",9:"",8:"",7:"",6:"",5:"",4:"",3:"",2:"",1:""}),Ie=a=>{const t=[...x.value,...a],l=Array.from(new Map(t.map(s=>[s.t_id,s])).values());x.value=l},De=a=>{x.value=x.value.filter(t=>t.t_id!==a)},fe=re(()=>d.value==5?[5,4,3,2,1]:[10,9,8,7,6,5,4,3,2,1]),He=()=>{i.value.push({id:i.value.length+1,text:""})},ze=a=>{if(i.value.length<=1){alert("최소 1개 이상의 질문이 필요합니다.");return}i.value=i.value.filter(t=>t.id!==a),i.value=i.value.map((t,l)=>({...t,id:l+1}))},ae=a=>{const t=a.target,l=t.value;let s=l,m="";/[^0-9.]/.test(s)&&(s=s.replace(/[^0-9.]/g,""),m||(m="숫자만 입력해주세요."));const y=(s.match(/\./g)||[]).length;y>1&&(s=s.replace(/(\..*)\./g,"$1"),m="소수점은 한 번만 사용할 수 있어요."),s.startsWith(".")&&(s="0"+s);let[c="",$=""]=s.split(".");return c.length>4&&(c=c.slice(0,4),m="정수는 최대 4자리까지 가능합니다."),$.length>2&&($=$.slice(0,2),m="소수점은 둘째자리까지 가능합니다."),l.endsWith(".")&&y<=1&&$===""?s=c?c+".":"0.":s=$!==""?`${c}.${$}`:c,s!==l&&m&&alert(m),t.value=s,s},qe=()=>{if(f.value==="")return;const a=Number(f.value),t=Number(d.value);Number.isNaN(a)||(a<0||a>t)&&(alert(`관능형: 합격 점수는 0 ~ ${t} 사이여야 합니다.`),f.value=String(t))};Ue(d,a=>{if(f.value==="")return;const t=Number(f.value);!Number.isNaN(t)&&t>a&&(alert(`최고점수가 ${a}점으로 변경되어 합격 점수를 ${a}로 수정합니다.`),f.value=String(a))});const se=()=>{H.value="",M.value=!1,F.value="",x.value=[],E.value="",te.value="",P.value="",le.value&&(le.value.value=""),me.value++,h.value="",w.value="",z.value="r1",V.value="r3",q.value="",k.value="range",d.value=5,f.value="",N.value="r1",i.value=[{id:1,text:""}],C.value=null},ne=a=>a===""?null:parseFloat(a);function ge(){const a=(H.value||"").trim(),t=k.value==="sensory"?"S":"R",l=M.value?"N":"Y",s=(F.value||"").trim();let m="";E.value?m=E.value:te.value&&(m=te.value);let y=null,c=null,$=null,ye=null,be=null,xe=null;t==="R"&&(y=ne(h.value),$=ne(w.value),c=z.value,ye=V.value,be=q.value||null);let he=null,we=null,ke=null,_e=[];if(t==="S"){he=Number(d.value),we=ne(f.value),ke=N.value,_e=i.value.map(B=>(B.text||"").trim()).filter(B=>B.length>0);const Ee=fe.value.map(B=>({score:B,desc:(K.value[B]||"").trim()})).filter(B=>B.desc.length>0);xe=JSON.stringify(Ee)}const Ae=x.value;return{insp_item_name:a,insp_type:t,use_yn:l,insp_method:s,insp_file_name:m,min_range:y,min_range_spec:c,max_range:$,max_range_spec:ye,unit:be,max_score:he,pass_score:we,pass_score_spec:ke,questions:_e,score_desc_json:xe,targets:Ae}}const Be=async()=>{var a,t;try{const l=ge(),s=await D.post("/api/inspMaster",l);(a=s.data)!=null&&a.ok?(await Y(),alert("등록되었습니다."),se()):alert(((t=s.data)==null?void 0:t.message)||"등록에 실패했습니다.")}catch(l){console.error(l),alert("서버 오류가 발생했습니다.")}};async function Y(){try{const{data:a}=await D.get("/api/inspFindMaster");_.value=a,T.value=a,console.log(a)}catch(a){console.error("데이터 조회 오류:",a),_.value=[],T.value=[]}}Xe(()=>{Y()});const Fe=async a=>{await Te(a.data.insp_item_id)};async function Te(a){const{data:t}=await D.get(`/api/inspMaster/${a}`);if(!(t!=null&&t.ok)){alert((t==null?void 0:t.message)||"상세 실패");return}const{master:l,targets:s,questions:m}=t.data;if(H.value=l.insp_item_name||"",M.value=l.use_yn==="N",F.value=l.insp_method||"",x.value=s,P.value=l.file_name||"",ve.value=l.file_name||"",Ve.value="",$e.value="",l.insp_type==="R")k.value="range",h.value=l.min_range!=null?String(l.min_range):"",z.value=l.min_range_spec||"r1",w.value=l.max_range!=null?String(l.max_range):"",V.value=l.max_range_spec||"r3",q.value=l.unit||"",d.value=5,f.value="",N.value="r1",i.value=[{id:1,text:""}];else{k.value="sensory",d.value=Number(l.max_score??5),f.value=l.pass_score!=null?String(l.pass_score):"",N.value=l.pass_score_spec||"r1",h.value="",z.value="r1",w.value="",V.value="r3",q.value="",i.value=m&&m.length?m.map((y,c)=>({id:y.id??c+1,text:y.text??""})):[{id:1,text:""}],K.value={};try{const y=JSON.parse(l.score_desc??"[]");for(const c of y)typeof(c==null?void 0:c.score)=="number"&&(K.value[c.score]=String((c==null?void 0:c.desc)??""));y.length===5?d.value=5:y.length===10&&(d.value=10)}catch{}}}function Le(){G.value="",J.value="",A.value="",L.value=!1,R.value=!1,C.value=null,T.value=[],_.value=[],Y()}const Pe=re(()=>L.value&&R.value||!L.value&&!R.value?"":L.value?"Y":"N");async function Re(){try{C.value=null,T.value=[],_.value=[];const{data:a}=await D.get("/api/inspMaster/search",{params:{itemName:G.value,targetName:J.value,typeCode:A.value,useYn:Pe.value}});_.value=a??[],T.value=a??[]}catch(a){console.error(a),_.value=[],T.value=[]}}const Ke=async()=>{if(!C.value){alert("수정할 항목을 선택하세요.");return}const a=C.value.insp_item_id,t=ge(),{data:l}=await D.put(`/api/inspMaster/${a}`,t);l!=null&&l.ok?(await Y(),alert("수정되었습니다.")):alert((l==null?void 0:l.message)||"수정 실패")},Ye=async()=>{var t,l;if(!C.value){alert("좌측 목록에서 삭제할 항목을 선택하세요.");return}const a=C.value.insp_item_id;if(confirm(`[${a}] 항목을 삭제하시겠습니까?`))try{const{data:s}=await D.delete(`/api/inspMaster/${a}`);s!=null&&s.ok?(await Y(),se(),C.value=null,alert("삭제되었습니다.")):alert((s==null?void 0:s.message)||"삭제 실패")}catch(s){console.error(s),alert(((l=(t=s==null?void 0:s.response)==null?void 0:t.data)==null?void 0:l.message)||"서버 오류")}},Oe=re(()=>!!C.value);async function Qe(a){var m,y,c;const t=(m=a.target.files)==null?void 0:m[0];if(!t)return;const l=new FormData;l.append("file",t);const s=await D.post("/api/upload",l);(y=s.data)!=null&&y.ok?(E.value=s.data.storedPath,P.value=s.data.fileName):alert(((c=s.data)==null?void 0:c.message)||"업로드 실패")}const oe=o(!1),Ge=()=>{oe.value=!0},Je=()=>{oe.value=!1};return(a,t)=>(S(),Ze(tt,null,{default:b(()=>[r(et,{pageTitle:ee.value},null,8,["pageTitle"]),r(de,{title:"조회",className:"shadow-sm"},{"header-right":b(()=>[e("div",{class:"flex justify-end"},[e("button",{class:"btn-common btn-white",onClick:Le},"초기화"),e("button",{class:"btn-common btn-color",onClick:Re},"조회")])]),"body-content":b(()=>[e("div",mt,[e("div",ft,[e("label",{class:n(u),for:"insp-name"}," 검사항목명 "),p(e("input",{type:"text",id:"insp-name",class:n(I),"onUpdate:modelValue":t[0]||(t[0]=l=>G.value=l)},null,512),[[U,G.value]])]),e("div",gt,[e("label",{class:n(u),for:"insp-target-name"}," 검사대상 "),p(e("input",{type:"text",id:"insp-target-name",class:n(I),"onUpdate:modelValue":t[1]||(t[1]=l=>J.value=l)},null,512),[[U,J.value]])]),e("div",yt,[e("label",{class:n(u),for:"insp-type"}," 품목구분 "),e("div",bt,[p(e("select",{id:"insp-type",class:n(X),"onUpdate:modelValue":t[2]||(t[2]=l=>A.value=l)},[...t[23]||(t[23]=[e("option",{value:"a1"},"주자재",-1),e("option",{value:"a2"},"부자재",-1),e("option",{value:"a3"},"재공품",-1),e("option",{value:"a4"},"반제품",-1),e("option",{value:"a5"},"완제품",-1)])],512),[[Q,A.value]]),t[24]||(t[24]=e("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[e("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]),e("div",xt,[e("div",{class:n(u)},"사용여부"),e("label",{class:n(u)},[p(e("input",{type:"checkbox",name:"insp-using",value:"Y",class:"checkboxStyle text-sm text-gray-800","onUpdate:modelValue":t[3]||(t[3]=l=>L.value=l)},null,512),[[ie,L.value]]),t[25]||(t[25]=O("사용 ",-1))]),e("label",{class:n(u)},[p(e("input",{type:"checkbox",name:"insp-using",value:"N",class:"checkboxStyle text-sm text-gray-800","onUpdate:modelValue":t[4]||(t[4]=l=>R.value=l)},null,512),[[ie,R.value]]),t[26]||(t[26]=O("미사용 ",-1))])])])]),_:1}),e("div",ht,[r(de,{title:"목록",className:"shadow-sm w-1/2"},{"body-content":b(()=>[r(v(ce),{value:T.value,showGridlines:"",scrollable:"",scrollHeight:"420px",size:"small",rows:10,class:"text-sm",selection:C.value,"onUpdate:selection":t[5]||(t[5]=l=>C.value=l),dataKey:"insp_item_id",onRowSelect:Fe},{default:b(()=>[r(v(g),{field:"inspCheck",header:"",pt:{columnHeaderContent:"justify-center"},selectionMode:"single",style:{width:"10px"}}),r(v(g),{field:"insp_item_id",header:"검사항목ID",pt:{columnHeaderContent:"justify-center"},bodyStyle:"text-align: center"}),r(v(g),{field:"insp_item_name",header:"검사대상명",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"target_name",header:"검사대상",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"insp_target_name",header:"품목구분",pt:{columnHeaderContent:"justify-center"},style:{width:"80px"}}),r(v(g),{field:"use_yn",header:"사용여부",pt:{columnHeaderContent:"justify-center"},style:{width:"70px","text-align":"center"}})]),_:1},8,["value","selection"])]),_:1}),r(de,{title:"등록",className:"shadow-sm w-1/2 "},{"header-right":b(()=>[e("div",wt,[e("button",{type:"button",class:"btn-common btn-white",onClick:se},"초기화"),Oe.value?(S(),j("button",{key:1,type:"button",class:"btn-common btn-color",form:"insp-form",onClick:Ke}," 수정 ")):(S(),j("button",{key:0,type:"button",class:"btn-common btn-color",form:"insp-form",onClick:Be}," 등록 ")),e("button",{type:"button",class:"btn-common btn-white",onClick:Ye,disabled:!C.value}," 삭제 ",8,kt)])]),"body-content":b(()=>[e("form",_t,[e("div",Ct,[e("label",{class:n([u,"w-[152px]"]),for:"inspName"}," 검사항목명 "),p(e("input",{type:"text",class:n(I),id:"inspName","onUpdate:modelValue":t[6]||(t[6]=l=>H.value=l),required:""},null,512),[[U,H.value]]),e("div",St,[e("div",{class:n(u)},"사용여부"),e("label",{class:n(u)},[p(e("input",{type:"checkbox",class:"checkboxStyle","onUpdate:modelValue":t[7]||(t[7]=l=>M.value=l)},null,512),[[ie,M.value]]),t[27]||(t[27]=O("미사용 ",-1))])])]),e("div",Nt,[e("div",{class:n([u,"w-[100px]"])},"검사유형"),e("div",jt,[e("label",{class:n(u)},[p(e("input",{type:"radio",name:"inspMode",class:"checkboxStyle",value:"range","onUpdate:modelValue":t[8]||(t[8]=l=>k.value=l)},null,512),[[W,k.value]]),t[28]||(t[28]=e("span",null,"범위",-1))]),e("label",{class:n(u)},[p(e("input",{type:"radio",name:"inspMode",class:"checkboxStyle",value:"sensory","onUpdate:modelValue":t[9]||(t[9]=l=>k.value=l)},null,512),[[W,k.value]]),t[29]||(t[29]=e("span",null,"관능",-1))])])]),e("div",Ut,[e("label",{class:n([u,"w-[120px]"]),for:"inspDesc"}," 검사방법 "),p(e("textarea",{placeholder:"검사방법에 대해서 작성하세요",rows:"4",class:n([Xt,""]),id:"inspDesc","onUpdate:modelValue":t[10]||(t[10]=l=>F.value=l)},null,512),[[U,F.value]])]),e("div",Mt,[e("label",{class:n([u,"w-[120px]"]),for:"inspFile"},"파일첨부 "),e("div",Vt,[(S(),j("input",{type:"file",key:me.value,class:n(Zt),id:"inspFile",onChange:Qe,ref_key:"fileInputRef",ref:le},null,32)),ve.value?(S(),j("div",$t,[e("a",{target:"_blank",class:"underline text-gray-500",href:`/uploads/${encodeURIComponent(P.value)}`,download:P.value},ue(P.value),9,It)])):Z("",!0)])]),t[40]||(t[40]=e("hr",{class:""},null,-1)),e("div",{class:"flex justify-between items-center mt-4 mb-4"},[t[30]||(t[30]=e("h3",null,"검사대상조회",-1)),e("button",{type:"button",onClick:Ge,class:"btn-common btn-color btn-insp-target-search"}," 검사대상조회 ")]),r(vt,{visible:oe.value,onClose:Je,onChecked:Ie},null,8,["visible"]),r(v(ce),{value:x.value,dataKey:"t_id",showGridlines:"",scrollable:"",size:"small",rows:5,class:"text-sm mb-4"},{empty:b(()=>[...t[31]||(t[31]=[e("div",{class:"text-center"},"추가된 검사대상이 없습니다.",-1)])]),default:b(()=>[r(v(g),{field:"t_id",header:"자재/제품ID",pt:{columnHeaderContent:"justify-center"},bodyStyle:"text-align: center"}),r(v(g),{field:"t_name",header:"자재/제품명",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_type_name",header:"품목구분",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_spec",header:"규격",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_unit",header:"단위",pt:{columnHeaderContent:"justify-center"}}),r(v(g),{field:"t_del",header:"삭제",pt:{columnHeaderContent:"justify-center"}},{body:b(({data:l})=>[e("div",Dt,[r(v(lt),{icon:"pi pi-trash",variant:"outlined",class:"p-button-text p-button-danger p-button-sm",style:{width:"20px",height:"15px","text-align":"center"},onClick:s=>De(l.t_id)},null,8,["onClick"])])]),_:1})]),_:1},8,["value"]),t[41]||(t[41]=e("hr",null,null,-1)),t[42]||(t[42]=e("h3",{class:"mt-4 mb-3"},"검사내용",-1)),k.value=="range"?(S(),j("div",Ht,[e("div",zt,[e("label",{class:n([u,"w-[120px]"])}," 최소범위 "),e("div",qt,[p(e("input",{type:"text",class:n(I),"onUpdate:modelValue":t[11]||(t[11]=l=>h.value=l),placeholder:"숫자를 입력하세요 (소수 둘째자리까지 입력 가능)",onInput:t[12]||(t[12]=l=>h.value=ae(l)),required:""},null,544),[[U,h.value]]),e("div",Bt,[p(e("select",{class:n(X),"onUpdate:modelValue":t[13]||(t[13]=l=>z.value=l)},[...t[32]||(t[32]=[e("option",{value:"r1",selected:""},"이상",-1),e("option",{value:"r2"},"초과",-1)])],512),[[Q,z.value]]),t[33]||(t[33]=e("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[e("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])])]),e("div",Ft,[e("label",{class:n([u,"w-[120px]"])}," 최대범위 "),e("div",Tt,[p(e("input",{type:"text",class:n(I),"onUpdate:modelValue":t[14]||(t[14]=l=>w.value=l),placeholder:"숫자를 입력하세요 (소수 둘째자리까지 입력 가능)",onInput:t[15]||(t[15]=l=>w.value=ae(l)),required:""},null,544),[[U,w.value]]),e("div",Lt,[p(e("select",{class:n(X),"onUpdate:modelValue":t[16]||(t[16]=l=>V.value=l)},[...t[34]||(t[34]=[e("option",{value:"r3",selected:""},"이하",-1),e("option",{value:"r4"},"미만",-1)])],512),[[Q,V.value]]),t[35]||(t[35]=e("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[e("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])])]),e("div",Pt,[e("label",{class:n([u,"w-[120px]"])},"단위"),p(e("input",{type:"text",class:n([I,"w-3/4"]),"onUpdate:modelValue":t[17]||(t[17]=l=>q.value=l),required:""},null,512),[[U,q.value]])])])):Z("",!0),k.value=="sensory"?(S(),j("div",Rt,[e("div",Kt,[e("div",Yt,[e("div",{class:n([u,"w-[120px]"])},"최고점수"),e("label",{class:n([u,"mr-[20px] text-sm"])},[p(e("input",{type:"radio",class:"checkboxStyle",name:"tScore",value:5,"onUpdate:modelValue":t[18]||(t[18]=l=>d.value=l)},null,512),[[W,d.value]]),t[36]||(t[36]=O("5점 ",-1))]),e("label",{class:n([u,"mr-[20px] text-sm"])},[p(e("input",{type:"radio",class:"checkboxStyle",name:"tScore",value:10,"onUpdate:modelValue":t[19]||(t[19]=l=>d.value=l)},null,512),[[W,d.value]]),t[37]||(t[37]=O("10점 ",-1))])]),e("div",Ot,[e("div",{class:n([u,"w-[120px] mb-2"])},"채점기준 설정"),(S(!0),j(Ce,null,Se(fe.value,(l,s)=>(S(),j("div",{key:s},[e("label",{class:n([u,"flex items-center"])},[e("span",{class:n([u,"w-[80px] text-sm"])},ue(l)+" 점",1),p(e("input",{type:"text",class:n([I,"w-full"]),"onUpdate:modelValue":m=>K.value[l]=m},null,8,Qt),[[U,K.value[l]]])])]))),128))]),e("div",Gt,[e("div",{class:n([u,"w-[200px]"])},"합격 기준점수"),p(e("input",{type:"text",class:n(I),placeholder:"숫자를 입력하세요 (소수 둘째자리까지 입력가능)","onUpdate:modelValue":t[20]||(t[20]=l=>f.value=l),onInput:t[21]||(t[21]=l=>f.value=ae(l)),onBlur:qe,required:""},null,544),[[U,f.value]]),e("div",Jt,[p(e("select",{class:n(X),"onUpdate:modelValue":t[22]||(t[22]=l=>N.value=l)},[...t[38]||(t[38]=[e("option",{value:"r1"},"이상",-1),e("option",{value:"r2"},"초과",-1)])],512),[[Q,N.value]]),t[39]||(t[39]=e("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[e("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])])]),e("div",At,[e("button",{type:"button",class:"btn-common btn-color",style:{margin:"0"},onClick:He}," 질문추가 "),(S(!0),j(Ce,null,Se(i.value,(l,s)=>(S(),j("div",{key:l.id,class:"flex items-center mt-2 gap-2"},[e("label",{class:n([u,"w-[80px]"])},"질문 "+ue(s+1),1),p(e("input",{type:"text",class:n(I),"onUpdate:modelValue":m=>l.text=m,required:""},null,8,Et),[[U,l.text]]),e("button",{type:"button",onClick:m=>ze(l.id),class:"w-[30px] rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs flex justify-center cursor-pointer hover:bg-gray-200"}," - ",8,Wt)]))),128))])])):Z("",!0)])]),_:1})])]),_:1}))}}),dl=Me(el,[["__scopeId","data-v-36482258"]]);export{dl as default};
